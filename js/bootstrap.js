System.register(["./garden","./vector","./word-pixels","./canvas-utils"],function(e,n){"use strict";function t(){var e=document.createElement("canvas"),n=e.getContext("2d");document.body.appendChild(e);var t=new c.Garden(n,e);o(e,t);var i=function(){t.render(),requestAnimationFrame(i)};i(),r(e,t)}function o(e,n){n.clear();var t=window.innerWidth,o=window.innerHeight;s.setCanvasSize(e,t,o);var r=location.hash.slice(1)||"Flowers are everywhere";"!"===r[0]&&(r=i(r.slice(1)));var c=d.generatePixelGrid(r,t,o);c.forEach(function(e){n.createRandomBloom(e.x,e.y)})}function r(e,n){e.addEventListener("mousemove",function(e){n.startBlooms(new a.Vector(e.clientX,e.clientY))}),e.addEventListener("touchmove",function(e){e.preventDefault(),Array.prototype.forEach.call(e.touches,function(e){n.startBlooms(new a.Vector(e.clientX,e.clientY))})}),e.addEventListener("dblclick",function(){n.startAllBlooms()}),window.addEventListener("resize",function(){o(e,n)}),window.addEventListener("hashchange",function(){o(e,n)}),document.querySelector("#close-welcome").addEventListener("click",function(){document.querySelector("#welcome").classList.add("hidden")})}function i(e){var n=e.split("").map(function(e){if(!e.match(/[A-Za-z]/))return e;var n=Math.floor(e.charCodeAt(0)/97),t=(e.toLowerCase().charCodeAt(0)-83)%26||26;return String.fromCharCode(t+(0==n?64:96))}).join("");return n}var c,a,d,s;n&&n.id;return{setters:[function(e){c=e},function(e){a=e},function(e){d=e},function(e){s=e}],execute:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}}});