System.register(["./garden","./vector","./word-pixels","./canvas-utils"],function(e,n){"use strict";function t(){var e=document.createElement("canvas"),n=e.getContext("2d");document.body.appendChild(e);var t=new i.Garden(n,e);o(e,t);var r=function(){t.render(),requestAnimationFrame(r)};r(),c(e,t)}function o(e,n){n.clear();var t=window.innerWidth,o=window.innerHeight;d.setCanvasSize(e,t,o);var c=location.hash.slice(1)||"Flowers are everywhere",i=a.generatePixelGrid(c,t,o);i.forEach(function(e){n.createRandomBloom(e.x,e.y)})}function c(e,n){e.addEventListener("mousemove",function(e){n.startBlooms(new r.Vector(e.clientX,e.clientY))}),e.addEventListener("touchmove",function(e){e.preventDefault(),Array.prototype.forEach.call(e.touches,function(e){n.startBlooms(new r.Vector(e.clientX,e.clientY))})}),e.addEventListener("dblclick",function(){n.startAllBlooms()}),window.addEventListener("resize",function(){o(e,n)}),window.addEventListener("hashchange",function(){o(e,n)}),document.querySelector("#close-welcome").addEventListener("click",function(){document.querySelector("#welcome").classList.add("hidden")})}var i,r,a,d;n&&n.id;return{setters:[function(e){i=e},function(e){r=e},function(e){a=e},function(e){d=e}],execute:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}}});